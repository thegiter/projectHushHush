"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();!function(){function e(){b&&b.disable(),new h.AnimFramePromise(function(){u.elm.style.maxWidth=u.elm.offsetWidth+"px"}).then(function(){u.elm.classList.add("psd-menu-no-expand")})}function t(){u.elm.style.removeProperty("max-width"),u.elm.classList.remove("psd-menu-no-expand"),b&&b.enable()}var n="psdSidebarActivator",s="/shared/modules/menu/btn/",o="/shared/modules/hex_grid/",r="/shared/modules/hex_frame/",i="/shared/modules/tooltips/follow_mouse/",a="/shared/cpns/shps_ajax/psa/csss/hf.css",c="/shared/cpns/shps_ajax/psa/csss/hg.css",l="/shared/cpns/shps_ajax/psa/csss/mb.css",u=shpsAjax.psdSidebar,p=shpsCmm.moduleMgr,m=shpsCmm.extFileMgr,d=shpsCmm.evtMgr,h=shpsCmm.util,f=0;d.addEvtLsnr(u.elm,"optElmRsz",function(){var e=u.elm.offsetWidth;e!=f&&(f=e,u.rszHdlrs.forEach(function(t){t(e)}))});var b=void 0;u.isExpand()?t():e(),u.addEvtLsnr("noExpand",e),u.addEvtLsnr("doExpand",t);var v=[],_=[],E=void 0,g=void 0,y=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setElm=n._setElm.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e,this._btn=e.getElementsByTagName("button")[0],this._iconCnr=e.getElementsByClassName("icon-cnr")[0],this._icon=e.getElementsByClassName("icon")[0]}}],[{key:"_insertHf",value:function s(e,t){var n=E.createObj(!1,{clss:"init init-trans"}).getElm();new h.AnimFramePromise(function(){e.insertBefore(n,t),n.getElementsByClassName("br")[0].addEventListener("transitionend",function s(e){this.removeEventListener(e.type,s),n.classList.remove("init-trans")})}).then(function(){n.classList.remove("init")})}},{key:"defaultProps",get:function o(){return{id:"",clss:"",btnClss:"",lblTxt:"",tag:"li"}}}]),_createClass(t,[{key:"componentDidMount",value:function r(){E?t._insertHf(this._iconCnr,this._icon):v.push({cnr:this._iconCnr,refElm:this._icon}),this.props.iconHtml&&(this._icon.innerHTML=this.props.iconHtml),this.props.tooltip&&(g?g.addTo(this._btn,this.props.tooltip):_.push({elm:this._btn,tt:this.props.tooltip}))}},{key:"getElm",value:function i(){return this._elm}},{key:"getBtn",value:function a(){return this._btn}},{key:"render",value:function c(){return React.createElement(this.props.tag,{id:this.props.id,className:"icon-wpr-cnr "+this.props.clss,ref:this._setElm},React.createElement("button",{className:"icon-wpr "+this.props.btnClss,type:"button"},React.createElement("span",{className:"icon-cnr pos-rel dsp-ib va-mid"},React.createElement("div",{className:"icon pos-abs"})),React.createElement("span",{className:"lbl dsp-ib of-hid va-mid"},this.props.lblTxt)))}}]),t}(React.Component);u.addBtn=function(e){function t(e){n=e}var n=void 0;return ReactDOM.render(React.createElement(y,_extends({},e,{ref:t})),document.createDocumentFragment()),u.scrlCnr.appendChild(n.getElm()),n},p.get(s,!0).then(function(e){m.lnked_bu("link",l).then(function(){var t=e.obj.menuBtnFactory.createObj({clss:"no-style clickable",animBack:!0}),n=t.getElm(),s=u.addBtn({id:"psd-sidebar-menu-btn",btnClss:n.className,iconHtml:n.innerHTML,tooltip:"Toggle Sidebar Tools",tag:"div"}),o=s.getElm();e.obj.MenuBtn.enableClkEvt(s.getBtn(),function(){o.classList.toggle("open")});var r=u.scrlCnr;r.parentNode.insertBefore(o,r)})}),u.newBtnPs.forEach(function(e){e()}),p.get(i).then(function(e){g=e.obj.tooltipFm,_.forEach(function(e){g.addTo(e.elm,e.tt)})}),p.get(r).then(function(e){m.lnked("link",a).then(function(){E=e.obj.hexFrameFactory,v.forEach(function(e){y._insertHf(e.cnr,e.refElm)})})}),p.get(o).then(function(e){m.lnked("link",c).then(function(){b=e.obj.hexGridFactory.createObj({numRows:25,numCols:35}),u.elm.insertBefore(b.getElm(),u.elm.children[0]),u.isExpand()&&b.enable()})}),shpsAjax.hooks[n]=function(e){var t=shpsAjax.cpnList[e];t.lded=!0;var n=t.obj={};n.onload=function(e){e()}}}();