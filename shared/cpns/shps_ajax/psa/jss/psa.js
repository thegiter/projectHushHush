"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();!function(){function e(e){var t=document.getElementById(d);u.elm=e.getElm(),t.insertBefore(u.elm,t.children[0]),u.scrlCnr=e.getScrlCnr(),u.cttCnr=e.getCttCnr()}function t(){C&&C.disable(),new v.AnimFramePromise(function(){u.elm.style.maxWidth=u.elm.offsetWidth+"px"}).then(function(){u.elm.classList.add("psd-menu-no-expand")})}function n(){u.elm.style.removeProperty("max-width"),u.elm.classList.remove("psd-menu-no-expand"),C&&C.enable()}var s="psdSidebarActivator",r="/shared/modules/menu/btn/",i="/shared/modules/hex_grid/",o="/shared/modules/hex_frame/",a="/shared/modules/tooltips/follow_mouse/",l="/shared/cpns/shps_ajax/psa/csss/hf.css",c="/shared/cpns/shps_ajax/psa/csss/hg.css",m="/shared/cpns/shps_ajax/psa/csss/mb.css",d="psd-bd-cnr",u=shpsAjax.psdSidebar,p=shpsCmm.moduleMgr,h=shpsCmm.extFileMgr,f=shpsCmm.evtMgr,v=shpsCmm.util,_=shpsCmm.domMgr,g=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setElm=n._setElm.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e,this._scrlCnr=e.children[0].children[0],this._cttCnr=e.getElementsByClassName("ctt-cnr")[0]}}]),_createClass(t,[{key:"getElm",value:function s(){return this._elm}},{key:"getScrlCnr",value:function r(){return this._scrlCnr}},{key:"getCttCnr",value:function i(){return this._cttCnr}},{key:"render",value:function o(){return React.createElement("aside",{id:"psd-menu-cnr",className:"pos-rel dsp-flx",ref:this._setElm},React.createElement("div",{className:"scrl-cnr-wpr dsp-flx flx-dir-col h-100 disabled"},React.createElement("ul",{id:"psd-menu-scrl-cnr",className:"pos-rel dsp-ib no-style no-indent mrg-0"})),React.createElement("div",{className:"ctt-cnr pos-rel dsp-flx"}),React.createElement("div",{className:"sdw disabled pos-abs-ful of-hid"}))}}]),t}(React.Component);ReactDOM.render(React.createElement(g,{ref:e}),document.createDocumentFragment());var b=0;f.addEvtLsnr(u.elm,"optElmRsz",function(){var e=u.elm.offsetWidth;e!=b&&(b=e,u.rszHdlrs.forEach(function(t){t(e)}))});var C=void 0;u.isExpand()?n():t(),u.addEvtLsnr("noExpand",t),u.addEvtLsnr("doExpand",n);var E=void 0;u.addCtt=function(e,t){e.classList.add("max-w-0"),this.cttCnr.appendChild(e),t&&t.addEventListener("click",function(t){return E==e?(e.classList.add("max-w-0"),E=void 0):(E&&E.classList.add("max-w-0"),e.classList.remove("max-w-0"),E=e,void 0)})},u.newCttPs.forEach(function(e){e()});var y=[],x=[],k=void 0,L=void 0,w=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setElm=n._setElm.bind(n),n._dspNonCls="dsp-non",n.props.noDspNon&&(n._dspNonCls=""),n}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e,this._btn=e.getElementsByTagName("button")[0],this._iconCnr=e.getElementsByClassName("icon-cnr")[0],this._icon=e.getElementsByClassName("icon")[0]}},{key:"_getMrg",value:function s(){var e=this._elm.cloneNode(!0);e.classList.add("vsb-hid","pos-abs"),e.classList.remove("dsp-non");var t=this._elm.parentNode;t.appendChild(e);var n={lft:_.getStyle(e,"margin-left"),rgt:_.getStyle(e,"margin-right")};return n.neg="-"+(e.offsetWidth+parseFloat(n.lft)+parseFloat(n.rgt))+"px",t.removeChild(e),n}}],[{key:"_insertHf",value:function r(e,t){var n=k.createObj(!1,{clss:"init init-trans"}).getElm();new v.AnimFramePromise(function(){e.insertBefore(n,t),n.getElementsByClassName("br")[0].addEventListener("transitionend",function s(e){this.removeEventListener(e.type,s),n.classList.remove("init-trans")})}).then(function(){n.classList.remove("init")})}},{key:"defaultProps",get:function i(){return{id:"",clss:"",btnClss:"",lblTxt:"",tag:"li"}}}]),_createClass(t,[{key:"componentDidMount",value:function o(){k?t._insertHf(this._iconCnr,this._icon):y.push({cnr:this._iconCnr,refElm:this._icon}),this.props.iconHtml&&(this._icon.innerHTML=this.props.iconHtml),this.props.tooltip&&(L?L.addTo(this._btn,this.props.tooltip):x.push({elm:this._btn,tt:this.props.tooltip}))}},{key:"getElm",value:function a(){return this._elm}},{key:"getBtn",value:function l(){return this._btn}},{key:"getIcon",value:function c(){return this._icon}},{key:"intro",value:function m(){var e=this;this._elm.style.marginLeft=this._getMrg().neg,new v.AnimFramePromise(function(){e._elm.classList.remove("dsp-non")}).then(function(){e._elm.style.removeProperty("margin-left")})}},{key:"outro",value:function d(){this._elm.addEventListener("transitionend",function e(t){return"margin-left"!=t.propertyName||t.target!=this?!1:(this.removeEventListener(t.type,e),this.classList.add("dsp-non"),void 0)}),this._elm.style.marginLeft=this._getMrg().neg}},{key:"render",value:function u(){return React.createElement(this.props.tag,{id:this.props.id,className:"icon-wpr-cnr "+this._dspNonCls+" "+this.props.clss,ref:this._setElm},React.createElement("button",{className:"icon-wpr no-style "+this.props.btnClss,type:"button",onClick:this.props.btnOnClk},React.createElement("span",{className:"icon-cnr pos-rel dsp-ib va-mid"},React.createElement("div",{className:"icon pos-abs"})),React.createElement("span",{className:"lbl dsp-ib of-hid va-mid"},this.props.lblTxt)))}}]),t}(React.Component);u.addBtn=function(e){function t(e){n=e}var n=void 0;return ReactDOM.render(React.createElement(w,_extends({},e,{ref:t})),document.createDocumentFragment()),u.scrlCnr.appendChild(n.getElm()),n},p.get(r,!0).then(function(e){h.lnked_bu("link",m).then(function(){var t=e.obj.menuBtnFactory.createObj({clss:"clickable",animBack:!0}),n=t.getElm(),s=u.addBtn({id:"psd-sidebar-menu-btn",noDspNon:!0,btnClss:n.className,iconHtml:n.innerHTML,tooltip:"Toggle Sidebar Tools",tag:"div"}),r=s.getElm();e.obj.MenuBtn.enableClkEvt(s.getBtn(),function(){r.classList.toggle("open")});var i=u.scrlCnr;i.parentNode.insertBefore(r,i)})}),u.newBtnPs.forEach(function(e){e()}),p.get(a).then(function(e){L=e.obj.tooltipFm,x.forEach(function(e){L.addTo(e.elm,e.tt)})}),p.get(o).then(function(e){h.lnked("link",l).then(function(){k=e.obj.hexFrameFactory,y.forEach(function(e){w._insertHf(e.cnr,e.refElm)})})}),p.get(i).then(function(e){h.lnked("link",c).then(function(){C=e.obj.hexGridFactory.createObj({numRows:25,numCols:35}),u.elm.insertBefore(C.getElm(),u.elm.children[0]),u.isExpand()&&C.enable()})}),shpsAjax.hooks[s]=function(e){var t=shpsAjax.cpnList[e];t.lded=!0;var n=t.obj={};n.onload=function(e){e()}}}();