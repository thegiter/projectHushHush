"use strict";!function(){var e="basic-bg",t=shpsCmm.iCMgr,n=new ttlElmOnload(e);Promise.all([t.getObjUrl("/shared/bgs/basic/csss/bg.css","link"),t.getObjUrl("/shared/bgs/basic/imgs/bg_ptn.jpg","img")]).then(function(e){n.addCss(e[0].objUrl),n.addImgs(e[1].objUrl,[""]),n.useDefault=!1,n.start()},function(){console.log("get basic bg css obj url rejected, history view css does not exist in indexed db.")}),shpsAjax.hooks.basic_bg=function(t){shpsAjax.cpnList[t].obj={};var i=shpsAjax.cpnList[t].obj,s="closed",c;i.intro=function(e){switch(s){case"closed":s="opening",c.addEventListener("transitionend",function i(t){return t.target!=this||"opacity"!=t.propertyName||1!=getStyle(this,"opacity")?!1:(t.target.removeEventListener(t.type,i),s="opened",e&&e.cb&&"end"==e.cbTiming&&e.cb(),void 0)},!1),mdf_cls(c,"remove","opa-0"),e&&e.cb&&("start"==e.cbTiming||"during"==e.cbTiming)&&e.cb();break;case"opening":if(e&&e.cb)if("end"==e.cbTiming){var t=function o(t){return t.target!=this||"opacity"!=t.propertyName||1!=getStyle(this,"opacity")?!1:(clearTimeout(n),t.target.removeEventListener(t.type,o),e.cb(),void 0)},n;c.addEventListener("transitionend",t),n=setTimeout(function(){c.removeEventListener("transitionend",t),e.cb()},1500)}else"during"==e.cbTiming&&e.cb();break;case"opened":e&&e.cb&&"end"==e.cbTiming&&e.cb()}},i.exit=function(){s="closed",mdf_cls(c,"add","opa-0")},i.lded=!1,i.onload=function(t){function i(){c=document.getElementById(e),t()}n.lded?i():n.callback=i}}}();