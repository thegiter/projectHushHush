"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();!function(){var e="hex_grid",t=30,n=120,s="play",a=shpsCmm.moduleMgr;a.hooks[e]=function(e){var a=e.obj={},r=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setElm=n._setElm.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e}}]),_createClass(t,[{key:"getElm",value:function s(){return this._elm}},{key:"render",value:function a(){return React.createElement("div",{className:"hex-h hex-wdt-pusher",ref:this._setElm},React.createElement("div",{className:"hex-hgt-pusher"},React.createElement("div",{className:"hex"})))}}]),t}(React.Component),l=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._setElm=n._setElm.bind(n),n._hexes=[];for(var s=0;s<n.props.numCols;s++)n._hexes.push(React.createElement(r,null));return n}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e}}]),_createClass(t,[{key:"getElm",value:function s(){return this._elm}},{key:"render",value:function a(){return React.createElement("div",{className:"hex-r",ref:this._setElm},this._hexes)}}]),t}(React.Component),o=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setElm=n._setElm.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e}}]),_createClass(t,[{key:"getElm",value:function s(){return this._elm}},{key:"render",value:function a(){return React.createElement("div",{className:"hex hex-v",ref:this._setElm},React.createElement("div",null))}}]),t}(React.Component),i=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._setElm=n._setElm.bind(n),n._hexes=[];for(var s=0;s<n.props.numRows;s++)n._hexes.push(React.createElement(o,null));return n}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e}}]),_createClass(t,[{key:"getElm",value:function s(){return this._elm}},{key:"render",value:function a(){return React.createElement("div",{className:"hex-c",ref:this._setElm},this._hexes)}}]),t}(React.Component),u=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t._setElm=t._setElm.bind(t),t._delayedPlay=t._delayedPlay.bind(t),t.enable=t.enable.bind(t),t.disable=t.disable.bind(t),t.state={numRows:t.props.numRows,numCols:t.props.numCols,delay_min:t.props.delay_min,delay_max:t.props.delay_max,playCls:""},t._trans=new transit(function(e){var n=e*(e-75)/25,s=e*(e-50)/19,a=e*(e-2)/24,r=e*(e-2)/22,l=21*e;t._elm.style.backgroundImage="radial-gradient(farthest-corner, hsla(186, 87%, 40%, 0) "+n+"%, hsla(186, 87%, 5%, .5) "+s+"%, hsl(186, 87%, 80%) "+a+"%, hsla(186, 87%, 40%, .2) "+r+"%, hsla(186, 87%, 40%, 0) "+l+"%)"},0,100,5e3),t._trans.delta=t._trans.qrtEaseIn,t._trans.addEventListener("end",t._delayedPlay),t}return _inherits(a,e),_createClass(a,[{key:"_setElm",value:function r(e){this._elm=e}},{key:"_delayedPlay",value:function o(){var e=this;this.setState({playCls:""}),this._enabled&&(this._toId=setTimeout(function(){e._trans.play(),e.setState({playCls:s})},getRandomInt(1e3*this.state.delay_min,1e3*this.state.delay_max)))}}],[{key:"defaultProps",get:function u(){return{delay_min:t,delay_max:n}}}]),_createClass(a,[{key:"getElm",value:function c(){return this._elm}},{key:"setNumCols",value:function _(e){this.setState({numCols:e})}},{key:"setNumRows",value:function h(e){this.setState({numRows:e})}},{key:"setDelay",value:function m(e,t){var n={};(e||0===e)&&(n.delay_min=e),(t||0===t)&&(n.delay_max=t),this.setState(n)}},{key:"disable",value:function f(){this._enabled=!1,clearTimeout(this._toId)}},{key:"enable",value:function d(){this._enabled=!0,this._delayedPlay()}},{key:"render",value:function p(){var e=[];if(this.props.ver)for(var t=0;t<this.state.numCols;t++)e.push(React.createElement(i,{numRows:this.state.numRows}));else for(var n=0;n<this.state.numRows;n++)e.push(React.createElement(l,{numCols:this.state.numCols}));return React.createElement("div",{className:"hex-grid pos-abs-ful of-hid "+this.state.playCls,ref:this._setElm},e)}}]),a}(React.Component),c=a.hexGridFactory={};c.createObj=function(e){function t(e){n=e}var n=void 0;return ReactDOM.render(React.createElement(u,_extends({},e,{ref:t})),document.createElement("div")),n}}}();