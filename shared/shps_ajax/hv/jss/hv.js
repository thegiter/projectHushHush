!function(){const s="historyView",t="/shared/modules/tooltips/follow_mouse/",e="shps-ajax-hv-cnr",a="psd-ctt-scrl-cnr",n="shps-ajax-hv-pp",d="Enter";var o=new shpsCmm.elmOnldr.ttlElmOnldr;o.addElm(e),o.addBuCss("/shared/shps_ajax/hv/csss/hv.css"),o.lded().then(function(){var s=document.getElementById(a),o=shpsAjax.pgMgr.operator.cttCnr,r=!1,i=document.getElementById(e);shpsCmm.moduleMgr.get(t).then(function(s){s.obj.tooltipFm.addTo(i,"Toggle History View.")});var l=i.getElementsByClassName("icon")[0],c=shpsAjax.pgMgr.operator;c.initHvElm3d=function(s){if(mdf_cls(s,"add","shps-ajax-hv-pg"),s.ttl){var t=document.createElement("strong");t.textContent=s.ttl,mdf_cls(t,"add","shps-ajax-hv-ttl"),s.insertBefore(t,s.children[0])}var e=document.createElement("div");e.classList.add(n),s.pp=e,s.appendChild(e)},forEachNodeItem(o.children,function(s){c.initHvElm3d(s)}),c.hv3d_bfr=function(s){s.pp.classList.add("shps-ajax-hv-sdw"),s.pp.classList.remove("shps-ajax-hv-lgt")},c.hv3d_afr=function(s){s.pp.classList.add("shps-ajax-hv-lgt"),s.pp.classList.remove("shps-ajax-hv-sdw")},c.hv3d_rmv=function(s){s.pp.classList.remove("shps-ajax-hv-sdw"),s.pp.classList.remove("shps-ajax-hv-lgt")};var p=document.createElement("button");p.classList.add("shps-ajax-hv-btn","shps-ajax-hv-btn-init"),btnPh=document.createElement("span"),btnPh.classList.add("vsb-hid"),btnPh.textContent=d,p.appendChild(btnPh);var h=document.createElement("span");h.classList.add("pos-abs","top","trans"),h.textContent=d,p.appendChild(h);var m=document.createElement("span");m.classList.add("pos-abs","trans"),m.textContent=d,p.appendChild(m);var v=document.createElement("div");v.classList.add("inner-sdw"),p.addEventListener("click",function(){var t="!"+s.lastElm.url;s.lastElm.hash&&(t+=s.lastElm.hash);var e=window.location.hash;e=="#"+t||""==e?c.closeHv():window.location.hash=t},!1),p.appendChild(v),shpsAjax.pgMgr.operator.hvScrl=function(s){s>0?(h.classList.remove("trans"),h.offsetWidth,h.classList.add("btm"),h.classList.remove("top"),h.offsetWidth,h.classList.add("trans"),h.offsetWidth,m.classList.add("top"),h.classList.remove("btm")):(h.classList.remove("trans"),h.offsetWidth,h.classList.add("top"),h.classList.remove("btm"),h.offsetWidth,h.classList.add("trans"),h.offsetWidth,m.classList.add("btm"),h.classList.remove("top"));var t=h;h=m,m=t},document.getElementById("psd-vp-cnr").insertBefore(p,o),c.openHv=function(){r||(r=!0,mdf_cls(l,"add","open"),o.addEventListener("transitionend",function t(e){return e.target!=this?!1:(e.target.removeEventListener(e.type,t),r&&(o.classList.add("disabled"),mdf_cls(s,"add","psd-vp-cnr-scrl")),void 0)},!1),mdf_cls(o,"add","shps-ajax-history-show"),p.classList.remove("shps-ajax-hv-btn-init"))},c.closeHv=function(){mdf_cls(s,"remove","psd-vp-cnr-scrl"),r&&(r=!1,mdf_cls(l,"remove","open"),mdf_cls(o,"remove","shps-ajax-history-show"),p.classList.add("shps-ajax-hv-btn-init"),o.classList.remove("disabled"))},i.addEventListener("click",function(){if(r){var s=c,t=s.scrlCnr,e=shpsCmm.scrlSnap;t.scrollTop<t.scrollHeight-t.clientHeight?(e.add(t,function(){return{v:1}},function a(){e.rmv(t,a),s.closeHv()}),t.scrollTop=t.scrollHeight-t.clientHeight):s.closeHv()}else c.openHv()},!1);var f=i.cloneNode(!0);f.classList.add("vsb-hid","pos-abs"),f.classList.remove("dsp-non");var L=i.parentNode;L.appendChild(f);var u=getStyle(f,"margin-left"),g=getStyle(f,"margin-right");i.style.marginLeft="-"+(f.offsetWidth+parseFloat(u)+parseFloat(g))+"px",i.classList.remove("dsp-non"),i.offsetWidth,i.addEventListener("transitionend",function x(s){"margin-left"==s.propertyName&&(s.target.removeEventListener(s.type,x),s.target.style.removeProperty("margin-left"))}),i.style.marginLeft=u,L.removeChild(f)}),shpsAjax.hooks[s]=function(s){shpsAjax.cpnList[s].lded=!0;var t=shpsAjax.cpnList[s].obj={};t.onload=function(s){s()}}}();