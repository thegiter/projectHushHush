!function(){const s="historyView",t="/shared/modules/tooltips/follow_mouse/",e="shps-ajax-hv-cnr",a="psd-ctt-scrl-cnr",n="shps-ajax-hv-pp";var d=new shpsCmm.elmOnldr.ttlElmOnldr;d.addElm(e),d.addBuCss("/shared/shps_ajax/hv/csss/hv.css"),d.lded().then(function(){var s=document.getElementById(a),d=shpsAjax.pgMgr.operator.cttCnr,o=!1,r=document.getElementById(e);shpsCmm.moduleMgr.get(t).then(function(s){s.obj.tooltipFm.addTo(r,"Toggle History View.")});var i=r.getElementsByTagName("span")[0],l=shpsAjax.pgMgr.operator;l.initHvElm3d=function(s){if(mdf_cls(s,"add","shps-ajax-hv-pg"),s.ttl){var t=document.createElement("strong");t.textContent=s.ttl,mdf_cls(t,"add","shps-ajax-hv-ttl"),s.insertBefore(t,s.children[0])}var e=document.createElement("div");e.classList.add(n),s.pp=e,s.appendChild(e)},forEachNodeItem(d.children,function(s){l.initHvElm3d(s)}),l.hv3d_bfr=function(s){s.pp.classList.add("shps-ajax-hv-sdw"),s.pp.classList.remove("shps-ajax-hv-lgt")},l.hv3d_afr=function(s){s.pp.classList.add("shps-ajax-hv-lgt"),s.pp.classList.remove("shps-ajax-hv-sdw")},l.hv3d_rmv=function(s){s.pp.classList.remove("shps-ajax-hv-sdw"),s.pp.classList.remove("shps-ajax-hv-lgt")};var c="Enter",p=document.createElement("button");p.classList.add("shps-ajax-hv-btn","shps-ajax-hv-btn-init"),btnPh=document.createElement("span"),btnPh.classList.add("vsb-hid"),btnPh.textContent=c,p.appendChild(btnPh);var h=document.createElement("span");h.classList.add("pos-abs","top","trans"),h.textContent=c,p.appendChild(h);var m=document.createElement("span");m.classList.add("pos-abs","trans"),m.textContent=c,p.appendChild(m);var v=document.createElement("div");v.classList.add("inner-sdw"),p.addEventListener("click",function(){var t="!"+s.lastElm.url;s.lastElm.hash&&(t+=s.lastElm.hash);var e=window.location.hash;e=="#"+t||""==e?l.closeHv():window.location.hash=t},!1),p.appendChild(v),shpsAjax.pgMgr.operator.hvScrl=function(s){s>0?(h.classList.remove("trans"),h.offsetWidth,h.classList.add("btm"),h.classList.remove("top"),h.offsetWidth,h.classList.add("trans"),h.offsetWidth,m.classList.add("top"),h.classList.remove("btm")):(h.classList.remove("trans"),h.offsetWidth,h.classList.add("top"),h.classList.remove("btm"),h.offsetWidth,h.classList.add("trans"),h.offsetWidth,m.classList.add("btm"),h.classList.remove("top"));var t=h;h=m,m=t},document.getElementById("psd-vp-cnr").insertBefore(p,d),l.openHv=function(){o||(o=!0,mdf_cls(i,"add","open"),d.addEventListener("transitionend",function t(e){return e.target!=this?!1:(e.target.removeEventListener(e.type,t),o&&(d.classList.add("disabled"),mdf_cls(s,"add","psd-vp-cnr-scrl")),void 0)},!1),mdf_cls(d,"add","shps-ajax-history-show"),p.classList.remove("shps-ajax-hv-btn-init"))},l.closeHv=function(){mdf_cls(s,"remove","psd-vp-cnr-scrl"),o&&(o=!1,mdf_cls(i,"remove","open"),mdf_cls(d,"remove","shps-ajax-history-show"),p.classList.add("shps-ajax-hv-btn-init"),d.classList.remove("disabled"))},r.addEventListener("click",function(){if(o){var s=l,t=s.scrlCnr,e=shpsCmm.scrlSnap;t.scrollTop<t.scrollHeight-t.clientHeight?(e.add(t,function(){return{v:1}},function a(){e.rmv(t,a),s.closeHv()}),t.scrollTop=t.scrollHeight-t.clientHeight):s.closeHv()}else l.openHv()},!1);var f=r.cloneNode(!0);f.classList.add("vsb-hid","pos-abs"),f.classList.remove("dsp-non");var L=r.parentNode;L.appendChild(f);var g=getStyle(f,"margin-left"),u=getStyle(f,"margin-right");r.style.marginLeft="-"+(f.offsetWidth+parseFloat(g)+parseFloat(u))+"px",r.classList.remove("dsp-non"),r.offsetWidth,r.addEventListener("transitionend",function x(s){"margin-left"==s.propertyName&&(s.target.removeEventListener(s.type,x),s.target.style.removeProperty("margin-left"))}),r.style.marginLeft=g,L.removeChild(f)}),shpsAjax.hooks[s]=function(s){shpsAjax.cpnList[s].lded=!0;var t=shpsAjax.cpnList[s].obj={};t.onload=function(s){s()}}}();