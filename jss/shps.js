function shpsAjax(){}shpsAjax.siteTtl="SHPS",shpsAjax.load=!1,shpsAjax.debug={},shpsAjax.debug.checkUrl=function(s){return"/debug/view.php"==window.location.pathname?"/"+s:s},shpsAjax.rqsMgr={},shpsAjax.rqsMgr.ongoing=[],shpsAjax.rqsMgr.pending=[],shpsAjax.rqsMgr.abort=function(){shpsAjax.rqsMgr.ongoing.forEach(function(s){s.qable&&-1==shpsAjax.rqsMgr.pending.indexOf(s)&&shpsAjax.rqsMgr.pending.push(s),s.ajax.abort()}),shpsAjax.rqsMgr.ongoing=[]},shpsAjax.rqsMgr.removeOngoing=function(s){var n=shpsAjax.rqsMgr.ongoing.indexOf(s);-1!=n&&shpsAjax.rqsMgr.ongoing.splice(n,1)},shpsAjax.rqsMgr.removePending=function(s){var n=shpsAjax.rqsMgr.pending.indexOf(s);-1!=n&&shpsAjax.rqsMgr.pending.splice(n,1)},shpsAjax.rqsMgr.load=function(s,n){var r=this;this.pending.forEach(function(n){n.url==s.url&&r.removePending(n)}),this.ongoing.forEach(function(n){return n.url==s.url?!1:void 0}),s.overwrite&&this.abort(),this.ongoing.push(s),shpsCmm.createAjax("POST",shpsAjax.debug.checkUrl(s.url),"refuri="+window.location.hostname,s.type,s.hdrs).then(function(e){r.removeOngoing(s),n(e),r.attemptPending()})},shpsAjax.rqsMgr.attemptPending=function(){shpsAjax.rqsMgr.pending.length>0&&0==shpsAjax.rqsMgr.ongoing.length&&shpsAjax.rqsMgr.load(shpsAjax.rqsMgr.pending[0])},shpsAjax.rscMgr={},shpsAjax.rscMgr.rscs={},shpsAjax.rscMgr.inform=function(s,n){switch(s){case"pg":shpsAjax.pgMgr.beInformedRsc(n,shpsAjax.rscMgr.rscs[n]);break;case"cpnLdr":shpsAjax.cpnMgr.ldr.beInformedRsc(n,shpsAjax.rscMgr.rscs[n])}},shpsAjax.rscMgr.rqs=function(s,n){function r(r){e.rscs[s.url]=r,e.inform(n,s.url)}if(this.rscs[s.url])this.inform(n,s.url);else{var e=this,t=shpsCmm.idbCache;t.get(s.url).then(function(n){if(r(n.rscList),n.dlDate+1e3*n.maxAge<Date.now()){var e=[{hdr:"If-Modified-Since",value:n.lastModified}];n.eTag&&e.push({hdr:"If-None-Match",value:n.eTag}),s.type="json",shpsCmm.createAjax("GET",shpsAjax.debug.checkUrl(s.url),void 0,s.type,e).then(function(n){200==n.status&&shpsAjax.rqsMgr.load(s,function(n){var r=t.createRecordObj(n);r&&(r.rscList=n.response,r.url=s.url,t.set(r))})})}},function(){s.type="json",shpsAjax.rqsMgr.load(s,function(n){var e=t.createRecordObj(n);e&&(r(n.response),e.rscList=n.response,e.url=s.url,t.set(e))})})}},shpsAjax.psdBd_id="psd-bd-cnr",shpsAjax.hooks={},shpsAjax.cpnList={historyView:{url:"shared/shps_ajax/hv/",cnr_id:"psd-menu-scrl-cnr",lded:!1},bg_basic:{url:"shared/bgs/basic/",cnr_id:"psd-bg-cnr",lded:!1},bg_tlight:{url:"shared/bgs/tlight/",cnr_id:"psd-bg-cnr",lded:!1},menu_basic:{url:"",cnr_id:"psd-menu-cnr",lded:!1}},shpsAjax.cpnMgr={},shpsAjax.cpnMgr.ldr={},shpsAjax.cpnMgr.ldr.rqss=[],shpsAjax.cpnMgr.ldr.rqd=[],shpsAjax.cpnMgr.ldr.nonRqd=[],shpsAjax.cpnMgr.ldr.chkAll=function(){var s=shpsAjax.cpnMgr.ldr.rqd,n=shpsAjax.cpnMgr.ldr.nonRqd;if(s.length>0||n.length>0){if(s.length>0){if(!shpsAjax.cpnMgr.ldr.rqd.every(function(s){return shpsAjax.cpnList[s.name].lded?!0:!1}))return!1;shpsAjax.cpnMgr.ldr.rqd=[]}shpsAjax.cpnMgr.beInformedLded(),n.length>0&&(shpsAjax.cpnMgr.ldr.internalLoad(shpsAjax.cpnMgr.ldr.nonRqd),shpsAjax.cpnMgr.ldr.nonRqd=[])}},shpsAjax.cpnMgr.ldr.chkLded=function(s){if(!shpsAjax.cpnList[s].lded){if(!shpsAjax.cpnList[s].obj.lded)return!1;if(shpsAjax.cpnList[s].cpnsNdd&&shpsAjax.cpnList[s].cpnsNdd.some(function(s){return shpsAjax.cpnList[s].lded?void 0:!0}))return!1;if(shpsAjax.cpnList[s].cpnsUsed){var n=[];shpsAjax.cpnList[s].cpnsUsed.forEach(function(s){if(!shpsAjax.cpnList[s].lded){var r={name:s};n.push(r)}}),n.length>0&&shpsAjax.cpnMgr.ldr.internalLoad(n)}shpsAjax.cpnList[s].lded=!0,shpsAjax.cpnMgr.operator.beInformedLded(s)}shpsAjax.cpnList[s].forCpns&&shpsAjax.cpnList[s].forCpns.forEach(function(s){shpsAjax.cpnMgr.ldr.chkLded(s)}),shpsAjax.cpnMgr.ldr.chkAll()},shpsAjax.cpnMgr.ldr.appendHtml=function(s,n){function r(){shpsAjax.cpnMgr.ldr.appendHtml=function(s,n){var r=document.getElementById(shpsAjax.cpnList[n].cnr_id),e=document.createElement("div");e.innerHTML=s,forEachNodeItem(e.children,function(s){r.appendChild(s)})},shpsAjax.cpnMgr.ldr.appendHtml(s,n)}document.getElementById(shpsAjax.psdBd_id)?r():window.addEventListener("load",r,!1)},shpsAjax.cpnMgr.ldr.beInformedRsc=function(s,n){if(shpsAjax.cpnMgr.ldr.rqss.some(function(n){return shpsAjax.cpnList[n.name].url==s?!0:void 0})){var r,e;if(forEachObjProp(shpsAjax.cpnList,function(n,t){n.url==s&&(n.hasRsc||(r=n,e=t))}),r){if(r.hasRsc=!0,r.hookName=n.hook,n.csss&&n.csss.forEach(function(s){include("link",s)}),n.jss.forEach(function(s){include("script",s,void 0,void 0,function(){shpsAjax.cpnList[e].obj||shpsAjax.hooks[r.hookName]&&(shpsAjax.hooks[r.hookName](e),shpsAjax.cpnList[e].obj.onload(function(){shpsAjax.cpnList[e].obj.lded=!0,shpsAjax.cpnMgr.ldr.chkLded(e)}))})}),n.cpns){r.cpnsNdd=[],r.cpnsUsed=[],r.closeCpns=[],r.nonCloseCpns=[];var t=[],p=shpsAjax.cpnList;n.cpns.forEach(function(s){s.required?(p[s.name].forCpns||(p[s.name].forCpns=[]),p[s.name].forCpns.push(e),r.cpnsNdd.push(s.name),shpsAjax.cpnList[s.name].lded||t.push(s)):r.cpnsUsed.push(s.name),s.close?r.closeCpns.push(s.name):r.nonCloseCpns.push(s.name)}),t.length>0?shpsAjax.cpnMgr.ldr.internalLoad(t):shpsAjax.cpnMgr.ldr.chkLded(e)}n.html&&shpsAjax.cpnMgr.ldr.appendHtml(n.html,e)}}},shpsAjax.cpnMgr.ldr.internalLoad=function(s){s.forEach(function(s){var n=s.name;if(!shpsAjax.cpnList[n].lded){var r={};r.url=shpsAjax.cpnList[n].url,shpsAjax.rscMgr.rqs(r,"cpnLdr")}})},shpsAjax.cpnMgr.ldr.load=function(s){shpsAjax.cpnMgr.ldr.rqss=s.slice(),shpsAjax.cpnMgr.ldr.rqd=[],shpsAjax.cpnMgr.ldr.nonRqd=[],s.forEach(function(s){shpsAjax.cpnList[s.name].lded||(s.required?shpsAjax.cpnMgr.ldr.rqd.push(s):shpsAjax.cpnMgr.ldr.nonRqd.push(s))}),shpsAjax.cpnMgr.ldr.rqd.length>0?shpsAjax.cpnMgr.ldr.internalLoad(shpsAjax.cpnMgr.ldr.rqd):shpsAjax.cpnMgr.ldr.chkAll()},shpsAjax.cpnMgr.operator={},shpsAjax.cpnMgr.operator.rqsList=[],shpsAjax.cpnMgr.operator.listOpened=[],shpsAjax.cpnMgr.operator.open=function(s,n){-1==shpsAjax.cpnMgr.operator.listOpened.indexOf(s)&&shpsAjax.cpnMgr.operator.listOpened.push(s),shpsAjax.cpnList[s].obj.intro(n)},shpsAjax.cpnMgr.operator.beInformedLded=function(s){-1!=shpsAjax.cpnMgr.operator.rqsList.indexOf(s)&&-1==shpsAjax.cpnMgr.operator.listOpened.indexOf(s)&&shpsAjax.cpnMgr.operator.open(s)},shpsAjax.cpnMgr.operator.rmvSubCpns=function(s){s.forEach(function(s){shpsAjax.cpnList[s].closeCpns&&shpsAjax.cpnList[s].closeCpns.forEach(function(s){var n=shpsAjax.cpnMgr.operator.rqsList.indexOf(s);-1!=n&&shpsAjax.cpnMgr.operator.rqsList.splice(n,1)})})},shpsAjax.cpnMgr.operator.mdfList=function(s){return s.forEach(function(s){shpsAjax.cpnList[s].nonCloseCpns&&shpsAjax.cpnList[s].nonCloseCpns.forEach(function(s){-1==shpsAjax.cpnMgr.operator.rqsList.indexOf(s)&&shpsAjax.cpnMgr.operator.rqsList.push(s)})}),shpsAjax.cpnMgr.operator.rqsList!=s?(shpsAjax.cpnMgr.operator.mdfList(shpsAjax.cpnMgr.operator.rqsList),void 0):(shpsAjax.cpnMgr.operator.rmvSubCpns(s),void 0)},shpsAjax.cpnMgr.operator.openOnlyThese=function(s){shpsAjax.cpnMgr.operator.rqsList=s.slice(),shpsAjax.cpnMgr.operator.mdfList(s),shpsAjax.cpnMgr.operator.listOpened.forEach(function(s){var n=shpsAjax.cpnMgr.operator.rqsList.indexOf(s);-1!=n?shpsAjax.cpnMgr.operator.rqsList.splice(n,1):(shpsAjax.cpnMgr.operator.listOpened.splice(shpsAjax.cpnMgr.operator.listOpened.indexOf(s),1),shpsAjax.cpnList[s].obj.exit())}),shpsAjax.cpnMgr.operator.rqsList.forEach(function(s){shpsAjax.cpnList[s].lded&&shpsAjax.cpnMgr.operator.open(s)})},shpsAjax.cpnMgr.busy=!1,shpsAjax.cpnMgr.rqss=[],shpsAjax.cpnMgr.q=[],shpsAjax.cpnMgr.src=void 0,shpsAjax.cpnMgr.beInformedLded=function(){if(shpsAjax.cpnMgr.busy=!1,"pg"==this.src){var s=[];this.rqss.forEach(function(n){n.close||s.push(n.name)}),shpsAjax.cpnMgr.operator.openOnlyThese(s),shpsAjax.pgMgr.beInformedCpn()}else{if(!this.q[0].every(function(s){return shpsAjax.cpnList[s.name].lded?!0:void 0}))return!1;this.q.shift()}shpsAjax.cpnMgr.q.length>0&&shpsAjax.cpnMgr.rqs(shpsAjax.cpnMgr.q[0],void 0,!0)},shpsAjax.cpnMgr.rqs=function(s,n,r){if("pg"==n)this.src=n,this.rqss=s.slice();else{if(r&&-1==this.q.indexOf(s)&&this.q.push(s),this.busy)return!1;this.src=void 0;var e=this;s.forEach(function(s){-1==e.rqss.indexOf(s)&&e.rqss.push(s)})}this.busy=!0;var t=[];this.rqss.forEach(function(s){shpsAjax.cpnList[s.name].lded||t.push(s)}),t.length>0?shpsAjax.cpnMgr.ldr.load(t):shpsAjax.cpnMgr.beInformedLded()},shpsAjax.psdMenu={},shpsAjax.psdMenu.noExp=!1,shpsAjax.psdMenu.id="psd-menu-cnr",shpsAjax.psdMenu.noExpand=function(){this.noExp=!0;var s=shpsAjax.psdMenu.elm;s.style.maxWidth=s.offsetWidth+"px",s.offsetWidth,mdf_cls(s,"add","psd-menu-no-expand")},shpsAjax.psdMenu.doExpand=function(){this.noExp=!1;var s=shpsAjax.psdMenu.elm;s.style.removeProperty("max-width"),mdf_cls(s,"remove","psd-menu-no-expand")},shpsAjax.psdMenu.fixedFcts=[],shpsAjax.psdMenu.regFixed=function(s){shpsAjax.psdMenu.fixedFcts.push(s)},shpsAjax.pgMgr={},shpsAjax.pgMgr.crtUrl="null",shpsAjax.pgMgr.rqsUlr="null",shpsAjax.pgMgr.rqsHash=null,shpsAjax.pgMgr.cache={},shpsAjax.pgMgr.cache["null"]={},shpsAjax.pgMgr.cache["null"].lded=!0,shpsAjax.pgMgr.cache["null"].obj={},shpsAjax.pgMgr.cache["null"].obj.intro=function(){},shpsAjax.pgMgr.cnr_id="psd-ctt-cnr",shpsAjax.pgMgr.operator={},shpsAjax.pgMgr.operator.getPgIdx=function(s){var n;return forEachNodeItem(shpsAjax.pgMgr.operator.cttCnr.children,function(r,e){r==s&&(n=e)}),n},shpsAjax.pgMgr.operator.getElms_bfr=function(s){var n=shpsAjax.pgMgr.operator.getPgIdx(s),r=this.cttCnr.children;if(n>0){for(var e=[],t=0;n>t;t++)e.push(r[t]);return e}return!1},shpsAjax.pgMgr.operator.getElms_afr=function(s){var n=shpsAjax.pgMgr.operator.getPgIdx(s),r=this.cttCnr.children;if(n<r.length-1){for(var e=[],t=n+1;t<r.length;t++)e.push(r[t]);return e}return!1},shpsAjax.pgMgr.operator.global3dOffset=120,shpsAjax.pgMgr.operator.single3dOffset=20,shpsAjax.pgMgr.operator.sdw3dSize=12,shpsAjax.pgMgr.operator.sdwOffset=14,shpsAjax.pgMgr.operator.hv3d_bfr=function(s){},shpsAjax.pgMgr.operator.move3d_bfr=function(s){var n=shpsAjax.pgMgr.operator.getElms_bfr(s),r=n.length-1;if(0!=n){var e=parseFloat(getStyle(document.documentElement,"font-size"))*shpsAjax.pgMgr.operator.sdw3dSize,t=e/s.offsetHeight*100+100+shpsAjax.pgMgr.operator.sdwOffset,p=(t-this.global3dOffset/2)/t*90,a=this;n.forEach(function(s){s.style.transformOrigin="top",s.style.transform="translatey(-"+(a.global3dOffset+a.single3dOffset*r)+"%) rotatex(90deg) translatey(-"+a.global3dOffset+"%) rotatex(-90deg) rotatex(-"+p+"deg)",r--,a.hv3d_bfr(s)})}},shpsAjax.pgMgr.operator.hv3d_afr=function(s){},shpsAjax.pgMgr.operator.move3d_afr=function(s){var n=this.getElms_afr(s),r=0;if(0!=n){var e=parseFloat(getStyle(document.documentElement,"font-size"))*this.sdw3dSize,t=e/s.offsetHeight*100+100+this.sdwOffset,p=(t-this.global3dOffset/2)/t*90,a=this;n.forEach(function(s){s.style.transformOrigin="bottom",s.style.transform="translatey("+(a.global3dOffset+a.single3dOffset*r)+"%) rotatex(90deg) translatey(-"+a.global3dOffset+"%) rotatex(-90deg) rotatex("+p+"deg)",r++,a.hv3d_afr(s)})}},shpsAjax.pgMgr.operator.hv3d_rmv=function(s){},shpsAjax.pgMgr.operator.remove3d=function(s){s.style.removeProperty("transform"),this.hv3d_rmv(s)},shpsAjax.pgMgr.operator.move3d=function(s){this.remove3d(s),this.move3d_bfr(s),this.move3d_afr(s)},shpsAjax.pgMgr.operator.closeHv=function(){this.scrlCnr.classList.remove("psd-vp-cnr-scrl")},shpsAjax.pgMgr.operator.initHvElm3d=function(){},shpsAjax.pgMgr.operator.swap=function(s){function n(){t[s].obj.intro();var n=shpsAjax.psdMenu;t[s].settings&&t[s].settings.psdMenuNoExp?n.noExp||n.noExpand():n.noExp&&n.doExpand()}var r=shpsAjax.pgMgr.crtUrl,e=shpsAjax.pgMgr.crtUrl=s,t=shpsAjax.pgMgr.cache,p=shpsAjax.pgMgr.cache[s].elm,a=shpsAjax.pgMgr.operator.getElms_afr(p);0!=a&&a.forEach(function(s){document.getElementById(shpsAjax.pgMgr.cnr_id).insertBefore(s,p),s.offsetHeight}),this.scrlCnr.classList.add("psd-vp-cnr-scrl");var o=this;optScrlLsnr.add(this.scrlCnr,function d(){optScrlLsnr.rmv(o.scrlCnr,d),t[r].obj.swapOut&&t[r].obj.swapOut(),o.closeHv()});var h=this.scrlCnr;if(h.scrollTop+h.clientHeight<h.scrollHeight)h.scrollTop=h.scrollHeight-h.clientHeight;else{var i=new UIEvent("scroll",{bubbles:!1,cancelable:!0});h.dispatchEvent(i)}t[e].obj.swapIn&&t[e].obj.swapIn(),"null"==r?n():setTimeout(n,1e3)},shpsAjax.pgMgr.chkLded=function(){function s(){shpsAjax.pgMgr.operator.swap(n),r[n].obj.hashChange&&r[n].obj.hashChange(shpsAjax.pgMgr.rqsHash)}var n=shpsAjax.pgMgr.rqsUrl,r=shpsAjax.pgMgr.cache;if(!r[n].lded){if(!r[n].obj||!r[n].obj.lded)return!1;if(r[n].cpnsNdd&&!r[n].nddLded)return!1;r[n].lded=!0}n!=shpsAjax.pgMgr.crtUrl&&(shpsAjax.load?s():(shpsAjax.ldAnim.setEvtLsnr("exit",s),shpsAjax.load=!0))},shpsAjax.pgMgr.beInformedCpn=function(){var s=shpsAjax.pgMgr.rqsUrl,n=shpsAjax.pgMgr.cache;if(n[s].cpnsNdd){if(n[s].cpnsNdd.some(function(s){return shpsAjax.cpnList[s].lded?void 0:!0}))return!1;n[s].nddLded=!0}shpsAjax.pgMgr.chkLded()},shpsAjax.pgMgr.appendHtml=function(s,n){function r(){shpsAjax.pgMgr.appendHtml=function(s,n){var r=document.getElementById(shpsAjax.pgMgr.cnr_id),e=document.createElement("section");mdf_cls(e,"add","shps-ajax-vp"),e.innerHTML=n;var t=shpsAjax.pgMgr.cache[s];t.elm=e,t.elm.hash=this.rqsHash,e.ttl=t.ttl,e.url=s,shpsAjax.pgMgr.operator.initHvElm3d(e),r.appendChild(e);var p=document.createElement("div");p.classList.add("psd-vp-pg-ph"),document.getElementById("psd-ctt-scrl-cnr").appendChild(p)},shpsAjax.pgMgr.appendHtml(s,n)}document.getElementById(shpsAjax.psdBd_id)?r():domReadyDo(r)},shpsAjax.pgMgr.beInformedRsc=function(s,n){if(s==shpsAjax.pgMgr.rqsUrl){var r=shpsAjax.pgMgr.cache;if(!r[s]){var e=r[s]={};e.hookName=n.hook,e.ttl=n.ttl,n.settings&&(e.settings=n.settings),n.csss&&n.csss.forEach(function(s){include("link",s)}),n.jss.forEach(function(n){include("script",n,void 0,void 0,function(){r[s].obj||shpsAjax.hooks[e.hookName]&&(shpsAjax.hooks[e.hookName](s),r[s].obj.onload(function(){r[s].obj.lded=!0,shpsAjax.pgMgr.chkLded()}))})}),e.cpns=[],n.cpns&&(e.cpns=n.cpns,e.cpnsNdd=[],e.cpnsUsed=[],n.cpns.forEach(function(s){s.required?e.cpnsNdd.push(s.name):e.cpnsUsed.push(s.name)})),shpsAjax.cpnMgr.rqs(e.cpns,"pg"),n.html&&shpsAjax.pgMgr.appendHtml(s,n.html)}}},shpsAjax.pgMgr.rqs=function(s,n){if(this.rqsHash=n,s==shpsAjax.pgMgr.rqsUrl)return!1;if(this.rqsUrl=s,s==shpsAjax.pgMgr.crtUrl)return!1;var r=shpsAjax.pgMgr.cache;if(!r[s]){shpsAjax.load=!1,shpsAjax.ldAnim.entry();var e={};return e.url=s,e.overwrite=!0,shpsAjax.rscMgr.rqs(e,"pg"),!1}if(!r[s].lded)return shpsAjax.load=!1,shpsAjax.ldAnim.entry(),r[s].cpnsNdd&&(r[s].nddLded||shpsAjax.cpnMgr.rqs(r[s].cpns,"pg")),!1;if(r[s].cpnsNdd&&r[s].cpnsNdd.some(function(s){var n=shpsAjax.cpnMgr.operator.listOpened.indexOf(s);return-1==n?!0:void 0})){var t={instant:!0};return r[s].obj.exit(t),shpsAjax.cpnMgr.rqs(r[s].cpns,"pg"),!0}shpsAjax.cpnMgr.rqs(r[s].cpns,"pg")},shpsAjax.hashChange=function(){},shpsAjax.lnkMgr={},shpsAjax.lnkMgr.registry={},shpsAjax.lnkMgr.lastUrl="",shpsAjax.lnkMgr.register=function(s){var n=s.hash.replace("#!","");this.registry[n]||(this.registry[n]=[]),this.registry[n].push(s),this.lastUrl==n&&s.removeAttribute("href")},shpsAjax.lnkMgr.beInformed=function(s){if(this.registry[s]&&this.registry[s].forEach(function(s){s.removeAttribute("href")}),this.registry[this.lastUrl]){var n=this;this.registry[this.lastUrl].forEach(function(s){s.href="#!"+n.lastUrl})}this.lastUrl=s},shpsAjax.logo_rszTxt=function(){},domReadyDo(function(){var s="shps-logo",n,r=document.getElementById(s),e=r.getElementsByTagName("span");shpsAjax.logo_rszTxt=function(){n=e[0].offsetHeight,r.style.lineHeight=n+"px",r.style.fontSize=n+"px"},shpsAjax.ldAnim={},shpsAjax.ldAnim.status="end",shpsAjax.ldAnim.cbs={},shpsAjax.ldAnim.cbs.end=[],shpsAjax.ldAnim.cbs.load=[],shpsAjax.ldAnim.cbs.exit=[],shpsAjax.ldAnim.evtVal=function(s){switch(s){case"end":case"load":case"exit":return!0;default:return!1}},shpsAjax.ldAnim.tgrEvtLsnr=function(s){return shpsAjax.ldAnim.evtVal(s)?(shpsAjax.ldAnim.cbs[s].length>0&&(shpsAjax.ldAnim.cbs[s].forEach(function(s){s()}),shpsAjax.ldAnim.cbs[s]=[]),void 0):!1},shpsAjax.ldAnim.addEvtLsnr=function(s,n){return shpsAjax.ldAnim.evtVal(s)?(shpsAjax.ldAnim.cbs[s].push(n),void 0):!1},shpsAjax.ldAnim.rmvEvtLsnr=function(s,n){if(!shpsAjax.ldAnim.evtVal(s))return!1;var r=shpsAjax.ldAnim.cbs[s].indexOf(n);-1!=r&&shpsAjax.ldAnim.cbs[s].splice(r,1)},shpsAjax.ldAnim.clrEvtLsnr=function(s){return shpsAjax.ldAnim.evtVal(s)?(shpsAjax.ldAnim.cbs[s]=[],void 0):!1},shpsAjax.ldAnim.setEvtLsnr=function(s,n){return shpsAjax.ldAnim.evtVal(s)?(shpsAjax.ldAnim.clrEvtLsnr(s),shpsAjax.ldAnim.addEvtLsnr(s,n),void 0):!1};var t=r.parentElement,p=function(){p=function(){};var s=t.getElementsByTagName("a")[0];s.href="#!homepage/",s.title="Go to the homepage.",shpsAjax.lnkMgr.register(s)};shpsAjax.ldAnim.onload=function(){shpsAjax.ldAnim.status="onload",shpsAjax.ldAnim.tgrEvtLsnr("load"),setTimeout(function(){for(var s=e.length-1;s>=0;s--){var a=e[s];mdf_cls(a,"remove","shps-logo-loading-in-trans"),a.classList.remove("shps-logo-entry-trans"),a.style.left=a.offsetLeft+"px",a.style.position="absolute",a.offsetHeight,mdf_cls(a,"add","shps-logo-loading-end-trans"),a.offsetHeight,a.classList.add("shps-logo-3d-"+s),a.style.left="50%",a.offsetHeight}r.style.removeProperty("animation-duration"),mdf_cls(r,"add","shps-logo-constant-rotate"),mdf_cls(r,"add","shps-logo-rotate"),t.addEventListener("transitionend",function o(s){s.target==this&&(s.target.removeEventListener(s.type,o),setTimeout(function(){t.style.top="1vmin",t.addEventListener("transitionend",function s(n){n.target.removeEventListener(n.type,s),p(),shpsAjax.ldAnim.status="end",shpsAjax.ldAnim.tgrEvtLsnr("end")},!1),mdf_cls(t,"add","shps-logo-smaller"),mdf_cls(t,"remove","shps-logo-larger"),shpsAjax.ldAnim.tgrEvtLsnr("exit")},1e3))},!1),t.style.top=t.offsetTop-n+"px",mdf_cls(t,"add","shps-logo-larger")},500)},shpsAjax.ldAnim.ldg=function(){function s(){var t=e[r];t.addEventListener("transitionend",function(s){s.target.removeEventListener(s.type,arguments.callee),mdf_cls(t,"remove","shps-logo-entry-trans"),mdf_cls(t,"add","shps-logo-loading-in-init"),mdf_cls(t,"remove","shps-logo-loading-out"),t.offsetHeight,t===e[0]&&t.addEventListener("transitionend",function(s){s.target.removeEventListener(s.type,arguments.callee),shpsAjax.load?shpsAjax.ldAnim.onload():n()},!1),setTimeout(function(){mdf_cls(t,"add","shps-logo-loading-in-trans"),mdf_cls(t,"remove","shps-logo-loading-in-init"),t.offsetHeight},1e3)},!1),mdf_cls(t,"remove","shps-logo-loading-in-trans"),mdf_cls(t,"add","shps-logo-entry-trans"),mdf_cls(t,"add","shps-logo-loading-out"),t.offsetHeight,r--,r>=0&&setTimeout(s,100)}function n(){setTimeout(function(){r=e.length-1,s()},1e3)}shpsAjax.ldAnim.status="ldg";var r;n()},shpsAjax.ldAnim.chkLding=function(){shpsAjax.load?shpsAjax.ldAnim.onload():shpsAjax.ldAnim.ldg()},shpsAjax.ldAnim.entry=function(){function s(){mdf_cls(e[n],"remove","opa-0"),mdf_cls(e[n],"remove","shps-logo-letter-init-size"),n++,n<e.length&&setTimeout(s,200)}shpsAjax.ldAnim.entry=function(){function s(n){this.removeEventListener(n.type,s),this.classList.remove("shps-logo-loading-end-trans"),this.style.removeProperty("position"),this.style.removeProperty("left")}if(shpsAjax.load)return!0;switch(shpsAjax.ldAnim.status){case"end":shpsAjax.ldAnim.status="entry",t.addEventListener("transitionend",function o(s){return s.target!=this?!1:(s.target.removeEventListener(s.type,o),shpsAjax.ldAnim.chkLding(),void 0)}),t.style.removeProperty("top"),t.classList.remove("shps-logo-smaller");for(var n=e.length-1,p=n;p>=0;p--){var a=e[p];a.addEventListener("transitionend",s),a.style.left=25*p+"%",mdf_cls(a,"remove","shps-logo-3d-"+p),a.offsetHeight}mdf_cls(r,"remove","shps-logo-constant-rotate"),r.style.animationDuration="1s";break;case"onload":shpsAjax.ldAnim.setEvtLsnr("end",shpsAjax.ldAnim.entry)}},e[e.length-1].addEventListener("transitionend",function(s){s.target.removeEventListener(s.type,arguments.callee),shpsAjax.ldAnim.chkLding()});var n=0;s()};var a=shpsAjax.psdMenu.elm=document.getElementById(shpsAjax.psdMenu.id);a.lastW=0,optElmRszLsnr.add(a,function(){a.offsetWidth!=a.lastW&&(a.lastW=a.offsetWidth,shpsAjax.psdMenu.fixedFcts.forEach(function(s){s(a.lastW)}))});var o=shpsAjax.pgMgr.operator.scrlCnr=document.getElementById("psd-ctt-scrl-cnr"),h=shpsAjax.pgMgr.operator.cttCnr=document.getElementById(shpsAjax.pgMgr.cnr_id);shpsAjax.pgMgr.operator.hvScrl=function(){},o.lastElm,o.lastIdx=0,optScrlLsnr.add(o,function(){var s=o.scrollTop,n=o.scrollHeight-o.clientHeight,r=n/(h.children.length-1),e=Math.round(s/r),t=h.children[e];(t!=o.lastElm||o.lastIdx!=e)&&(e!=o.lastIdx&&(shpsAjax.pgMgr.operator.hvScrl(e-o.lastIdx),o.lastIdx=e),o.lastElm=t,shpsAjax.pgMgr.operator.move3d(t))}),shpsAjax.hashChange=function(){var s=window.location.hash,n=/^#!([^#]+.*)/,r=n.exec(s);if(null!==r)if(r=r[1],shpsAjax.lnkMgr.beInformed(r),n=/^([^#]+)(#.*)/,s=n.exec(r),null!==s&&(r=s[1],s=s[2]),r!=shpsAjax.pgMgr.crtUrl||r!=shpsAjax.pgMgr.rqsUrl)shpsAjax.pgMgr.rqs(r,s);else{var e=shpsAjax.pgMgr;e.operator.closeHv();var t=e.cache[r];t.obj.hashChange&&t.obj.hashChange(s),t.elm.hash=s}}}),shpsCmm.wdwLded().then(function(){var s=shpsAjax.logo_rszTxt;s(),optRszLsnr.add(s),window.location.hash.indexOf("#!")>=0?shpsAjax.hashChange():shpsAjax.pgMgr.rqs("homepage/"),window.addEventListener("hashchange",shpsAjax.hashChange,!1),include("link","/csss/history_sys.css");var n=[{name:"historyView"}];shpsAjax.cpnMgr.rqs(n,void 0,!0),include("script","/shared/jss/gaa.js")});