"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),shpsAjax={};!function(){shpsAjax.siteTtl="SHPS",shpsAjax.lded=!1;var e=shpsCmm.moduleMgr.get("/shared/modules/dependencies/",!0)["catch"](function(e){console.log(e)});shpsAjax.dependenciesLded=function(){return e},shpsAjax.cpnList={historyView:{url:"shared/cpns/shps_ajax/hv/",cnr_id:"psd-menu-scrl-cnr",lded:!1},betaSign:{url:"shared/cpns/beta_sign/",cnr_id:"the-shps-ajax-bd",lded:!1},bg_basic:{url:"shared/cpns/bgs/basic/",cnr_id:"psd-bg-cnr",lded:!1},bg_tdcubes:{url:"shared/cpns/bgs/tdcubes/",cnr_id:"psd-bg-cnr",lded:!1},bg_inttile:{url:"shared/cpns/bgs/inttile/",cnr_id:"psd-bg-cnr",lded:!1},bg_tlight:{url:"shared/cpns/bgs/tlight/",cnr_id:"psd-bg-cnr",lded:!1},menu_basic:{url:"",cnr_id:"psd-menu-scrl-cnr",lded:!1}},shpsAjax.hooks={},shpsAjax.inits=[]}(),function(){function e(e){return"/debug/view_test.php"==window.location.pathname?"/"+e:e}function t(){o.forEachObjProp(a,function(e){e.qable&&!l[e.url]&&(l[e.url]=e),e.p=void 0,e.ajax.abort()}),a={}}function n(){var e=!1;if(o.forEachObjProp(a,function(t){t&&t.url&&(e=!0)}),!e){var t=!1;o.forEachObjProp(l,function(e){e&&e.url&&(t=e)}),t&&(a[t.url]=t,l[t.url]=void 0,t.ajax.send())}}var s=shpsAjax,r=s.rqsMgr={},i=shpsCmm.iCMgr,o=shpsCmm.util,a={},l={},c={};r.lded=function(s){return s.url=e(s.url),c[s.url]?c[s.url]:s.p=i.chkData(s.url,s.type,s.propName).then(function(e){return c[s.url]=s.p,e},function(){return l[s.url]&&(l[s.url]=void 0),a[s.url]?a[s.url].p:(s.overwrite&&t(),a[s.url]=s,shpsCmm.ajaxMgr.createAjax_ref("POST",s.url,void 0,s.type,s.hdrs,s).then(function(e){return i.setRecord(s.url,e,s.propName).then(function(){return c[s.url]=s.p,a[s.url]=void 0,n(),e.response})}))})}}(),function(){var e=shpsAjax.rscMgr={},t={};e.lded=function(e){return t[e.url]?t[e.url]:(e.type="json",e.propName="rscList",shpsAjax.rqsMgr.lded(e).then(function(n){return shpsAjax.dependenciesLded().then(function(){return t[e.url]=Promise.resolve(n)})}))}}(),function(){var e=shpsAjax.cpnMgr={},t=shpsAjax.cpnList,n=shpsCmm.iCMgr,s=shpsCmm.extFileMgr,r=e.operator={};r.rqsList=[],r.listOpened=[],r.rqsArgs={},r.addRa=function(e,t){var n=this.rqsArgs;t&&(n[e]||(n[e]=[]),-1==n[e].indexOf(t)&&n[e].push(t))},r.open=function(e,n){if(-1==this.rqsList.indexOf(e)&&this.rqsList.push(e),this.addRa(e,n),t[e].lded){var s=this.rqsArgs;if(!s[e]&&-1!=this.listOpened.indexOf(e))return!0;s[e]?(-1==this.listOpened.indexOf(e)&&this.listOpened.push(e),s[e].forEach(function(n){t[e].obj.intro(n)}),delete s[e]):(this.listOpened.push(e),t[e].obj.intro())}},r.beInformedLded=function(e){-1==this.listOpened.indexOf(e)&&-1!=this.rqsList.indexOf(e)&&this.open(e)},r.mdfList=function(){var e=this,n=!1;return this.rqsList.forEach(function(s){t[s].nonCloseCpns&&t[s].nonCloseCpns.forEach(function(t){-1==e.rqsList.indexOf(t)&&(e.rqsList.push(t),n=!0)})}),n?(this.mdfList(),void 0):(this.rqsList.forEach(function(n){t[n].closeCpns&&t[n].closeCpns.forEach(function(t){var n=e.rqsList.indexOf(t);-1!=n&&e.rqsList.splice(n,1)})}),void 0)},r.openOnlyThese=function(e){var n=this;this.rqsList=e.slice(),this.mdfList(),this.listOpened.forEach(function(e){var s=n.rqsList.indexOf(e);console.log(e,s),-1!=s?n.rqsList.splice(s,1):(n.listOpened.splice(n.listOpened.indexOf(e),1),t[e].obj.exit())}),this.rqsList.forEach(function(e){t[e].lded&&n.open(e)})};var i={};i.rqss=[],i.rqd=[],i.nonRqd=[],i.chkAll=function(){if(this.rqd.length>0||this.nonRqd.length>0){if(this.rqd.length>0){if(!this.rqd.every(function(e){return t[e.name].lded?!0:!1}))return!1;this.rqd=[]}e.beInformedLded(),this.nonRqd.length>0&&(this.internalLded(this.nonRqd),this.nonRqd=[])}},i.chkLded=function(e){var n=this;if(!t[e].lded){if(!t[e].obj.lded)return!1;t[e].cpnsUsed&&t[e].cpnsUsed.forEach(function(e){if(!t[e].lded){var s={name:e};n.rqss.every(function(t){return t.name!=e?!0:void 0})&&n.rqss.push(s),n.nonRqd.every(function(t){return t.name!=e?!0:void 0})&&n.nonRqd.push(s)}}),t[e].lded=!0,r.beInformedLded(e)}t[e].forCpns&&t[e].forCpns.forEach(function(e){n.chkLded(e)}),this.chkAll()},i.installItem=function(e,n){var r=this,i=t[n];switch(e.type){case"link":return s.lnked("link",e.objUrl);case"script":return s.lnked("script",e.objUrl,e.async).then(function(){i.obj||shpsAjax.hooks[i.hookName]&&(shpsAjax.hooks[i.hookName](n),i.obj.onload(function(){i.obj.lded=!0}))});case"cpnList":console.log("install cpn list"),i.cpnsNdd=[],i.cpnsUsed=[],i.closeCpns=[],i.nonCloseCpns=[];var o=[];if(e.cpns.forEach(function(e){e.required?(t[e.name].forCpns||(t[e.name].forCpns=[]),t[e.name].forCpns.push(n),i.cpnsNdd.push(e.name),t[e.name].lded||(o.push(e),r.rqss.every(function(t){return t.name!=e.name?!0:void 0})&&r.rqss.push(e))):i.cpnsUsed.push(e.name),e.close?i.closeCpns.push(e.name):i.nonCloseCpns.push(e.name)}),o.length>0)return this.internalLded(o);return;case"html":return shpsCmm.domMgr.domReady().then(function(){var t=document.getElementById(i.cnr_id),n=document.createElement("div");n.innerHTML=e.html,Array.from(n.children).forEach(function(e){t.appendChild(e)})});case"module":return shpsCmm.moduleMgr.get(e.url,!0)}},i.internalLded=function(e){var s=this,r=[];return e.forEach(function(e){var i=e.name;if(!t[i].lded){var o={url:t[i].url};r.push(shpsAjax.rscMgr.lded(o).then(function(e){var r=void 0;if(s.rqss.some(function(e){return e.name==i?(r=t[i],!0):void 0})){if(r.ldP)return r.ldP;r.hookName=e.hook;var o=[];return e.rscs.forEach(function(e){var t=[];e.forEach(function(e){var s=void 0;switch(e.type){case"html":case"cpnList":case"module":s=Promise.resolve(e);break;default:s=n.getData(e.url,"blob","blob").then(function(){return e})}t.push(s)}),o.push(Promise.all(t))}),r.ldP=o.reduce(function(e,t){return e.then(function(){return t}).then(function(e){var t=[];return e.forEach(function(e){var r=void 0;switch(e.type){case"link":case"script":case"img":case"svg":r=n.getObjUrl(e.url,e.type).then(function(t){return e.objUrl=t.objUrl,s.installItem(e,i)});break;default:r=s.installItem(e,i)}t.push(r)}),Promise.all(t)})},Promise.resolve()).then(function(){s.chkLded(i)})}throw new Error("cpn no longer being requested "+i)}))}}),Promise.all(r)},i.ld=function(e){var n=this;this.rqss=e.slice(),this.rqd=[],this.nonRqd=[],e.forEach(function(e){t[e.name].lded||(e.required?n.rqd.push(e):n.nonRqd.push(e))}),console.log("ld non rqd",this.nonRqd),this.rqd.length>0?this.internalLded(this.rqd):this.chkAll()},e.busy=!1,e.rqss=[],e.q=[],e.src=void 0,e.beInformedLded=function(){if(this.busy=!1,"pg"==this.src){var e=[];this.rqss.forEach(function(t){t.close||e.push(t.name)}),r.openOnlyThese(e),shpsAjax.pgMgr.beInformedCpn()}else{if(!this.q[0].every(function(e){return t[e.name].lded?!0:!1}))return!1;this.q.shift()}this.q.length>0&&this.prepare(this.q[0],void 0,!0)},e.prepare=function(e,n,s){var r=this;if("pg"==n)this.src=n,this.rqss=e.slice();else{if(s&&-1==this.q.indexOf(e)&&this.q.push(e),this.busy)return!1;this.src=void 0,e.forEach(function(e){-1==r.rqss.indexOf(e)&&r.rqss.push(e)})}this.busy=!0;var o=[];this.rqss.forEach(function(e){t[e.name].lded||o.push(e)}),o.length>0?i.ld(o):this.beInformedLded()}}(),function(){var e=shpsAjax.psdSidebar={},t=shpsCmm.moduleMgr,n=shpsCmm.extFileMgr,s=shpsCmm.imgLdr,r=shpsCmm.util,i="/shared/modules/hex_frame/",o="/shared/modules/hex_grid/",a="/shared/modules/tooltips/follow_mouse/",l="/csss/psd_menu_hf.css",c="/csss/psd_menu_hg.css",d="psd-menu-cnr",h="psd-menu-scrl-cnr",u=!1,p=void 0,f=void 0,m=void 0,v=void 0,g=[],b=[];e.regFixed=function(e){b.push(e)},shpsAjax.inits.push(function(){m=document.getElementById(d),v=document.getElementById(h),m.lastW=0,shpsCmm.evtMgr.addEvtLsnr(m,"optElmRsz",function(){m.offsetWidth!=m.lastW&&(m.lastW=m.offsetWidth,b.forEach(function(e){e(m.lastW)}))});var s=t.get(a),E=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setElm=n._setElm.bind(n),n._setIconCnr=n._setIconCnr.bind(n),n._setIcon=n._setIcon.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e}},{key:"_setIconCnr",value:function i(e){this._iconCnr=e}},{key:"_setIcon",value:function o(e){this._icon=e}}],[{key:"_insertHf",value:function a(e,t){var n=f.createObj(!1,{clss:"init init-trans"}).getElm();new r.AnimFramePromise(function(){e.insertBefore(n,t),n.getElementsByClassName("br")[0].addEventListener("transitionend",function s(e){this.removeEventListener(e.type,s),n.classList.remove("init-trans")})}).then(function(){n.classList.remove("init")})}},{key:"defaultProps",get:function l(){return{id:"",clss:"",lblTxt:""}}}]),_createClass(t,[{key:"componentDidMount",value:function c(){var e=this;f?t._insertHf(this._iconCnr,this._icon):g.push({cnr:this._iconCnr,refElm:this._icon}),this.props.iconHtml&&(this._icon.innerHTML=this.props.iconHtml),this.props.tooltip&&s.then(function(t){t.obj.tooltipFm.addTo(e._elm,e.props.tooltip)})}},{key:"getElm",value:function d(){return this._elm}},{key:"render",value:function h(){return React.createElement("div",{id:this.props.id,className:"icon-wpr "+this.props.clss,ref:this._setElm},React.createElement("span",{className:"icon-cnr",ref:this._setIconCnr},React.createElement("div",{className:"hgt-pusher"}),React.createElement("div",{className:"icon",ref:this._setIcon})),React.createElement("span",{className:"lbl"},this.props.lblTxt))}}]),t}(React.Component);e.appendBtn=function(e){function t(e){n=e}var n=void 0;ReactDOM.render(React.createElement(E,_extends({},e,{ref:t})),document.createElement("div"));var s=n.getElm();return v.appendChild(s),s},t.get(i).then(function(e){n.lnked("link",l).then(function(){f=e.obj.hexFrameFactory,g.forEach(function(e){E._insertHf(e.cnr,e.refElm)})})}),t.get(o).then(function(e){n.lnked("link",c).then(function(){p=e.obj.hexGridFactory.createObj({numRows:25,numCols:35}),m.insertBefore(p.getElm(),m.children[0]),u||p.enable()})})}),e.noExpand=function(){u||(u=!0,p&&p.disable(),new shpsCmm.util.AnimFramePromise(function(){m.style.maxWidth=m.offsetWidth+"px"}).then(function(){m.classList.add("psd-menu-no-expand")}))},e.doExpand=function(){u&&(u=!1,m.style.removeProperty("max-width"),m.classList.remove("psd-menu-no-expand"),p&&p.enable())}}(),function(){function e(e){e.removeAttribute("href"),e.title&&(e.lnkMgr.regdTtl=e.title,e.removeAttribute("title"))}function t(e){var t=e.lnkMgr;e.href||(e.href="#!"+t.regdUrl);var n=t.regdTtl;n&&!e.title&&(e.title=n)}function n(e,t){var n=r[t],s=n.indexOf(e);-1!=s&&n.splice(s,1),n.length<=0&&delete r[t]}var s=shpsAjax.lnkMgr={},r={},i="";s.register=function(t){var s=t.hash.replace("#!","");if(t.lnkMgr){var o=t.lnkMgr.regdUrl;if(o==s)return!0;n(t,o)}else t.lnkMgr={};t.lnkMgr.regdUrl=s,r[s]||(r[s]=[]),r[s].push(t),i==s&&e(t)},s.deregister=function(e){var s=e.lnkMgr;s&&(t(e),n(e,s.regdUrl),e.lnkMgr=void 0)},s.getUrl=function(e){return e.lnkMgr?e.lnkMgr.regdUrl:null},s.beInformed=function(n){r[n]&&r[n].forEach(e),r[i]&&r[i].forEach(t),i=n}}(),function(){function e(){d=u[0].offsetHeight,h.style.lineHeight=d+"px",h.style.fontSize=d+"px",p.classList.contains(o)&&(p.style.perspectiveOrigin="50% "+1.5*d+"px")}function t(e){switch(e){case"end":case"load":case"exit":return!0;default:return!1}}function n(e){return t(e)?(m[e].length>0&&(m[e].forEach(function(e){e()}),m[e]=[]),void 0):!1}function s(){shpsAjax.lded?a.onld():a.ldg()}function r(e){this.removeEventListener(e.type,r),this.classList.remove("shps-logo-loading-end-trans"),this.style.removeProperty("position"),this.style.removeProperty("left")}var i="shps-logo",o="shps-logo-smaller",a=shpsAjax.ldAnim={},l=shpsAjax.lnkMgr,c=shpsCmm.util,d=void 0,h=void 0,u=void 0,p=void 0;shpsAjax.inits.push(function(){h=document.getElementById(i),u=h.getElementsByTagName("span"),p=h.parentElement,l.register(p.getElementsByTagName("a")[0]),e(),shpsCmm.evtMgr.addEvtLsnr(void 0,"optWdwRsz",e)});var f="end",m={end:[],load:[],exit:[]};a.addEvtLsnr=function(e,n){return t(e)?(-1==m[e].indexOf(n)&&m[e].push(n),void 0):!1},a.rmvEvtLsnr=function(e,n){if(!t(e))return!1;var s=m[e].indexOf(n);-1!=s&&m[e].splice(s,1)},a.clrEvtLsnr=function(e){return t(e)?(m[e]=[],void 0):!1},a.setEvtLsnr=function(e,n){return t(e)?(this.clrEvtLsnr(e),this.addEvtLsnr(e,n),void 0):!1},a.onld=function(){f="onload",n("load"),setTimeout(function(){for(var t=function r(e){var t=u[e];new c.AnimFramePromise(function(){t.classList.remove("shps-logo-loading-in-trans","shps-logo-entry-trans"),t.style.left=t.offsetLeft+"px",t.style.position="absolute"}).then(function(){t.classList.add("shps-logo-loading-end-trans"),t.classList.add("shps-logo-3d-"+e),t.style.left="50%"})},s=u.length-1;s>=0;s--)t(s);h.style.removeProperty("animation-duration"),h.classList.add("shps-logo-constant-rotate","shps-logo-rotate"),p.addEventListener("transitionend",function i(t){return t.target!=this?!1:(t.target.removeEventListener(t.type,i),setTimeout(function(){p.style.top="1vmin",p.addEventListener("transitionend",function t(e){e.target.removeEventListener(e.type,t),f="end",n("end")},!1),p.classList.add("shps-logo-smaller"),p.classList.remove("shps-logo-larger"),e(),n("exit")},1e3),void 0)},!1),p.style.top=p.offsetTop-d+"px",p.classList.add("shps-logo-larger")},500)},a.ldg=function(){function e(){setTimeout(function(){n=u.length-1,s()},1e3)}var t=this;f="ldg";var n=void 0,s=function r(){var s=u[n],i=function o(n){if(n.target.removeEventListener(n.type,o),s.classList.remove("shps-logo-entry-trans","shps-logo-loading-out"),s.classList.add("shps-logo-loading-in-init"),s===u[0]){var r=function i(n){n.target.removeEventListener(n.type,i),shpsAjax.lded?t.onld():e()};s.addEventListener("transitionend",r,!1)}setTimeout(function(){s.classList.add("shps-logo-loading-in-trans"),s.classList.remove("shps-logo-loading-in-init")},1e3)};s.addEventListener("transitionend",i,!1),s.classList.remove("shps-logo-loading-in-trans"),s.classList.add("shps-logo-entry-trans","shps-logo-loading-out"),n--,n>=0&&setTimeout(r,100)};e()},a.entry=function(){function e(){u[t].classList.remove("opa-0"),u[t].classList.remove("shps-logo-letter-init-size"),t++,t<u.length&&setTimeout(e,200)}this.entry=function(){if(shpsAjax.lded)return!0;switch(f){case"end":f="entry",p.addEventListener("transitionend",function i(e){return e.target!=this?!1:(e.target.removeEventListener(e.type,i),s(),void 0)}),p.style.removeProperty("top"),p.style.removeProperty("perspective-origin"),p.classList.remove("shps-logo-smaller");for(var e=u.length-1,t=e;t>=0;t--){var n=u[t];n.addEventListener("transitionend",r),n.style.left=25*t+"%",n.classList.remove("shps-logo-3d-"+t)}h.classList.remove("shps-logo-constant-rotate"),h.style.animationDuration="1s";break;case"onload":this.setEvtLsnr("end",this.entry)}},u[u.length-1].addEventListener("transitionend",function n(e){e.target.removeEventListener(e.type,n),s()});var t=0;e()}}(),function(){var e=shpsAjax.pgMgr={},t=shpsCmm.domMgr,n=shpsCmm.moduleMgr,s=shpsAjax.psdSidebar,r=shpsAjax.ldAnim,i=shpsAjax.cpnMgr,o=shpsCmm.iCMgr,a=shpsCmm.extFileMgr,l=void 0,c="/shared/modules/js_frameworks/scrl_snap/",d="psd-ctt-cnr",h="psd-ctt-scrl-cnr",u="psd-bd-cnr",p=e.crtUrl="null",f=e.rqsUrl="null",m=e.rqsHash=null,v=e.cache={"null":{lded:!0,obj:{intro:function j(){}}}},g=e.operator={},b=[];shpsAjax.inits.push(function(){var t=g.scrlCnr=document.getElementById(h),s=g.cttCnr=document.getElementById(d);n.get(c,!0).then(function(e){l=e.obj.scrlSnapIdx,l.add(t,function(){return{v:s.children.length}},function(e){var n=e.v,r=s.children[n];!r||r==t.lastElm&&t.lastIdx==n||(n!=t.lastIdx&&(b.forEach(function(e){e(n-t.lastIdx)}),t.lastIdx=n),t.lastElm=r,g.move3d(r))})}),e.psdBd=document.getElementById(u)}),g.getPgIdx=function(e){return Array.prototype.indexOf.call(this.cttCnr.children,e)},g.getElms_bfr=function(e){var t=this.getPgIdx(e);return t>0?Array.prototype.slice.call(this.cttCnr.children,0,t):!1},g.getElms_afr=function(e){var t=this.getPgIdx(e),n=this.cttCnr.children;return t<n.length-1?Array.prototype.slice.call(n,t+1):!1},g.GLOBAL_3D_OS=120,g.SINGLE_3D_OS=20,g.SDW_3D_SZE=12,g.SDW_OS=14,g.BLUR_BFR=10,g.BLUR_AFT=g.BLUR_BFR/2;var E=[];g.move3d_bfr=function(e){var n=this,s=this.getElms_bfr(e);if(s!==!1){var r=s.length-1,i=t.getRemPx()*this.SDW_3D_SZE,o=i/e.offsetHeight*100+100+this.SDW_OS,a=(o-this.GLOBAL_3D_OS/2)/o*90;s.forEach(function(e){e.style.transformOrigin="top",e.style.transform="translatey(-"+(n.GLOBAL_3D_OS+n.SINGLE_3D_OS*r)+"%) rotatex(90deg) translatey(-"+n.GLOBAL_3D_OS+"%) rotatex(-90deg) rotatex(-"+a+"deg)",e.style.filter="blur("+n.BLUR_BFR+"px)",r--,E.forEach(function(t){t(e)})})}};var _=[];g.move3d_afr=function(e){var n=this,s=this.getElms_afr(e);if(s!==!1){var r=0,i=t.getRemPx()*this.SDW_3D_SZE,o=i/e.offsetHeight*100+100+this.SDW_OS,a=(o-this.GLOBAL_3D_OS/2)/o*90;s.forEach(function(e){e.style.transformOrigin="bottom",e.style.transform="translatey("+(n.GLOBAL_3D_OS+n.SINGLE_3D_OS*r)+"%) rotatex(90deg) translatey(-"+n.GLOBAL_3D_OS+"%) rotatex(-90deg) rotatex("+a+"deg)",e.style.filter="blur("+n.BLUR_AFT+"px)",r++,_.forEach(function(t){t(e)})})}};var y=[];g.rmv3d=function(e){e.style.removeProperty("transform"),e.style.removeProperty("filter"),y.forEach(function(t){t(e)})},g.move3d=function(e){this.rmv3d(e),this.move3d_bfr(e),this.move3d_afr(e)};var L=[],x=[];g.closeHv=function(){this.scrlCnr.classList.remove("psd-vp-cnr-scrl"),L.forEach(function(e){e()})},g.swapPageIntro=function(e,t){var n={};v[e].obj.hashChange&&(v[e].elm.hash=t,n.cb=function(){v[e].obj.hashChange(t)},n.cbTiming="end"),v[e].obj.introed?n.cb&&n.cb():(v[e].obj.intro(n),v[e].obj.introed=!0),v[e].settings&&v[e].settings.psdMenuNoExp?s.noExpand():s.doExpand()},g.swap=function(t){var n=this,s=p,r=p=e.crtUrl=t,i=v[t].elm,o=this.getElms_afr(i);if(o!==!1&&o.forEach(function(e){n.cttCnr.insertBefore(e,i)}),r!=s){var a=this.scrlCnr;a.classList.add("psd-vp-cnr-scrl");var c=function d(){l.rmv(a,d),v[s].obj.swapOut&&v[s].obj.swapOut(),n.closeHv()};l.add(a,function(){return{v:1}},c),a.scrollTop+a.clientHeight<a.scrollHeight-1?a.scrollTop=a.scrollHeight-a.clientHeight:l.forceFireHdlrs(a),v[r].obj.swapIn&&v[r].obj.swapIn()}"null"==s?this.swapPageIntro(t,m):setTimeout(function(){n.swapPageIntro(t,m)},1e3)},e._chkLded=function(){function e(){g.swap(f)}if(!v[f].lded){if(!v[f].obj||!v[f].obj.lded)return!1;if(v[f].cpnsNdd&&!v[f].nddLded)return!1;v[f].lded=!0}shpsAjax.lded?e():(r.setEvtLsnr("exit",e),shpsAjax.lded=!0)},e.beInformedCpn=function(){if(v[f].cpnsNdd){if(v[f].cpnsNdd.some(function(e){return shpsAjax.cpnList[e].lded?void 0:!0}))return!1;v[f].nddLded=!0}this._chkLded()},e._installItem=function(e,t){var n=v[t];switch(e.type){case"link":return a.lnked("link",e.objUrl);case"cpnList":if(n.cpns=e.cpns,n.cpnsNdd=[],n.cpnsUsed=[],e.cpns.forEach(function(e){e.required?n.cpnsNdd.push(e.name):n.cpnsUsed.push(e.name)}),t!=f)return;return i.prepare(n.cpns,"pg"),void 0;case"html":var s=document.createElement("section");s.classList.add("shps-ajax-vp","pos-abs-ful"),s.innerHTML=e.html,n.elm=s,n.elm.hash=m,s.ttl=n.ttl,s.url=t,x.forEach(function(e){e(s)});var r=g.cttCnr.children;g.cttCnr.insertBefore(s,r[r.length-1]);var o=document.createElement("div");return o.classList.add("psd-vp-pg-ph"),g.scrlCnr.appendChild(o),void 0;case"script":return a.lnked("script",e.objUrl,e.async).then(function(){n.obj||shpsAjax.hooks[n.hookName]&&(shpsAjax.hooks[n.hookName](t),n.obj.onload(function(){n.obj.lded=!0}))});case"module":return shpsCmm.moduleMgr.get(e.url,!0)}},e.open=function(t,n){var s=this;return m=this.rqsHash=n,t==f?!0:(f=this.rqsUrl=t,v[t]&&v[t].lded?(v[t].cpnsNdd&&v[t].cpnsNdd.some(function(e){var t=i.operator.listOpened.indexOf(e);return-1==t?!0:void 0})&&(v[t].obj.exit({instant:!0}),v[t].obj.introed=!1),i.prepare(v[t].cpns,"pg"),void 0):(shpsAjax.lded=!1,r.entry(),v[t]?v[t].cpnsNdd&&!v[t].nddLded?(i.prepare(v[t].cpns,"pg"),void 0):(this._chkLded(),!1):(shpsAjax.rscMgr.lded({url:t,overwrite:!0}).then(function(n){if(t!=f)throw new Error("pg no longer rqsted "+t);if(v[t])return!1;var r=v[t]={};r.hookName=n.hook,r.ttl=n.ttl,n.settings&&(r.settings=n.settings),r.cpns=[];var a=[];n.rscs.forEach(function(e){var t=[];e.forEach(function(e){var n=void 0;switch(e.type){case"html":case"cpnList":case"module":n=Promise.resolve(e);break;default:n=o.getData(e.url,"blob","blob").then(function(){return e})}t.push(n)});var n=Promise.all(t);a.push(n)}),a.reduce(function(e,n){return e.then(function(){return n}).then(function(e){var n=[];return e.forEach(function(e){var r=void 0;switch(e.type){case"link":case"script":case"img":case"svg":r=o.getObjUrl(e.url,e.type).then(function(n){return e.objUrl=n.objUrl,s._installItem(e,t)});break;default:r=s._installItem(e,t)}n.push(r)}),Promise.all(n)})},Promise.resolve()).then(function(){if(r.cpns.length<=0){if(t!=f)throw new Error("pg no longer rqsted aft install "+t);i.prepare(r.cpns,"pg")}else e._chkLded()})}),!1)))},e.addEvtLsnr=function(e,t){var n=void 0;switch(e){case"hvScrl":n=b;break;case"hv3d_bfr":n=E;break;case"hv3d_afr":n=_;break;case"hv3d_rmv":n=y;break;case"hvClose":n=L;break;case"hvElm3dInit":n=x;break;default:return!1}-1==n.indexOf(t)&&n.push(t)}}(),function(){var e=shpsAjax.pgMgr,t=/^#!([^#]+.*)/,n=/^([^#]+)(#.*)/;shpsAjax.hashChange=function(){var s=window.location.hash,r=t.exec(s);if(null!==r)if(r=r[1],shpsAjax.lnkMgr.beInformed(r),s=n.exec(r),null!==s&&(r=s[1],s=s[2]),r!=e.crtUrl||r!=e.rqsUrl)e.open(r,s);else{e.operator.closeHv();var i=e.cache[r];i.obj.hashChange&&i.obj.hashChange(s),i.elm.hash=s}}}(),shpsCmm.domMgr.domReady().then(function(){var e="/csss/history_sys.css",t="/shared/jss/gtm.js",n="/shared/modules/ldg_signs/td_bars/",s=shpsAjax.cpnMgr,r=shpsCmm.iCMgr,i=shpsCmm.extFileMgr,o=shpsCmm.imgLdr,a=shpsCmm.moduleMgr;shpsAjax.dependenciesLded().then(function(){function e(e){i=e}var t=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._setElm=e._setElm.bind(e),e}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e}}]),_createClass(t,[{key:"getElm",value:function s(){return this._elm}},{key:"render",value:function r(){return React.createElement("div",{id:"shps-logo-cnr",ref:this._setElm},React.createElement("h1",{id:"shps-logo"},React.createElement("a",{href:"#!homepage/",title:"Go to the homepage."},React.createElement("span",{className:"opa-0 shps-logo-letter-init-size shps-logo-entry-trans"},React.createElement("div",null,"S")),React.createElement("span",{className:"opa-0 shps-logo-letter-init-size shps-logo-entry-trans"},React.createElement("div",null,"H")),React.createElement("span",{className:"opa-0 shps-logo-letter-init-size shps-logo-entry-trans"},React.createElement("div",null,"P")),React.createElement("span",{className:"opa-0 shps-logo-letter-init-size shps-logo-entry-trans"},React.createElement("div",null,"S")))))}}]),t}(React.Component),r=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._setElm=e._setElm.bind(e),e}return _inherits(t,e),_createClass(t,[{key:"_setElm",value:function n(e){this._elm=e}}]),_createClass(t,[{key:"getElm",value:function s(){return this._elm}},{key:"render",value:function r(){return React.createElement("div",{id:"psd-bd-cnr",className:"pos-abs-ful of-hid dsp-flx",ref:this._setElm},React.createElement("aside",{id:"psd-menu-cnr",className:"pos-rel"},React.createElement("div",{id:"psd-menu-scrl-cnr",className:"pos-rel dsp-ib"}),React.createElement("div",{className:"sdw disabled pos-abs-ful of-hid"})),React.createElement("section",{id:"psd-vp-cnr",className:"psd-vp-cnr"},React.createElement("div",{id:"psd-bg-cnr"}),React.createElement("div",{id:"psd-ctt-scrl-cnr",className:"psd-ctt-scrl-cnr"},React.createElement("div",null)),React.createElement("main",{id:"psd-ctt-cnr",role:"main"})),React.createElement("aside",null),React.createElement("section",null))}}]),t}(React.Component);shpsInstaller.stopAnim(),ReactDOM.render(React.createElement(r,null),document.body);var i=void 0;ReactDOM.render(React.createElement(t,{ref:e}),document.createElement("div")),document.body.appendChild(i.getElm()),shpsAjax.inits.forEach(function(e){e()}),window.location.hash.indexOf("#!")>=0?shpsAjax.hashChange():shpsAjax.pgMgr.open("homepage/"),window.addEventListener("hashchange",shpsAjax.hashChange,!1);var o=[{name:"historyView"},{name:"betaSign",required:!0}];s.prepare(o,void 0,!0),a.get(n,!0)}),i.lnked_bu("link",e),i.lnked_bu("script",t)});